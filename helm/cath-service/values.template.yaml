# Base values template for production-like environments (stg, prod)
# Database and cache infrastructure is managed by Terraform, not Helm
global:
  environment: ${ENVIRONMENT:-stg}

# Enable/disable subcharts
postgres:
  enabled: true
web:
  enabled: true
api:
  enabled: true
crons:
  enabled: true

# Web application configuration
cath-web:
  nodejs:
    image: "hmctspublic.azurecr.io/cath/cath-web:${WEB_IMAGE}"
    ingressHost: "${TEAM_NAME}-{{ .Release.Name }}-web.${ENVIRONMENT}.platform.hmcts.net"

# API application configuration
cath-api:
  nodejs:
    image: "hmctspublic.azurecr.io/cath/cath-api:${API_IMAGE}"
    ingressHost: "${TEAM_NAME}-{{ .Release.Name }}-api.${ENVIRONMENT}.platform.hmcts.net"

# Crons application configuration
cath-crons:
  job:
    image: "hmctspublic.azurecr.io/cath/cath-crons:${CRONS_IMAGE}"
    schedule: "*/5 * * * *"
    suspend: false
    kind: CronJob

# Postgres Prisma Studio service configuration
cath-postgres:
  nodejs:
    image: "hmctspublic.azurecr.io/cath/cath-postgres:${POSTGRES_IMAGE}"
    ingressHost: "${TEAM_NAME}-{{ .Release.Name }}-postgres.${ENVIRONMENT}.platform.hmcts.net"

# Dev dependencies - DISABLED for stg/prod (managed by Terraform)
postgresql:
  enabled: false

redis:
  enabled: false
